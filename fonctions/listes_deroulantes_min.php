<?php
 function lister_alphabet($a,$b,$c){$d=array();$f="\n<select name='".$a."' class='".$b."'>\n";for($g=0;$g<=90-65;$g++){$d[$g]=chr($g+65);$f=$f."<option value='".$d[$g]."'>".$d[$g]."</option>\n";}$f=$f."</select>";return $f;}function lister_classe($h,$j){$k="SELECT CODE_CLASSE FROM CLASSE ORDER BY CODE_CLASSE DESC;";$l=array();try{$m=$h->query($k);$l=$m->fetchAll(PDO::FETCH_ASSOC);}catch(PDOException $n){$o="problème pour accéder aux informations des classes<br/>";$o=$o.$n->getMessage();}$p="\n<select name='CODE_CLASSE' id='CODE_CLASSE'>\n";$g=0;foreach($l as $q){$r="";if($q['CODE_CLASSE']==$j){$r=" selected='selected'";}$p=$p."<option value='".$q['CODE_CLASSE']."' $r>".$q['CODE_CLASSE']."</option>\n";}$p=$p."</select>";return $p;}function lister_date($h,$s){$k="SELECT ID_DPERIODE, DATE_DEBUT, DATE_FIN FROM DPERIODE ORDER BY DATE_DEBUT;";try{$m=$h->query($k);$l=$m->fetchAll(PDO::FETCH_ASSOC);}catch(PDOException $n){$o="problème pour accéder aux informations sur les dates de stages<br>";$o.=$n->getMessage();}$t="\n<select name='ID_DPERIODE'>\n";foreach($l as $q){$r="";if($q['ID_DPERIODE']==$s)$r=" selected";$t.="<option value='".$q['ID_DPERIODE']."' $r>".$q['DATE_DEBUT']." au ".$q['DATE_FIN']."</option>\n";}$t.="</select>";return $t;}function lister_entreprise($h,$u){$k="select ID_ENTREPRISE, NOM_ENTREPRISE from ENTREPRISE order by NOM_ENTREPRISE";$l=array();try{$m=$h->query($k);$l=$m->fetchAll(PDO::FETCH_ASSOC);}catch(PDOException $n){$o="problème pour accéder aux informations des entreprises<br/>";$o=$o.$n->getMessage();}$v="\n<select name='ID_ENTREPRISE'>\n";foreach($l as $q){$r="";if($q['ID_ENTREPRISE']==$u){$r=" selected='selected'";}$v=$v."<option value='".$q['ID_ENTREPRISE']."' $r>".$q['NOM_ENTREPRISE']."</option>\n";}$v=$v."</select>";return $v;}function rechercher_entreprise($h,$u){$k="select ID_ENTREPRISE, NOM_ENTREPRISE from ENTREPRISE order by NOM_ENTREPRISE;";$l=array();try{$m=$h->query($k);$l=$m->fetchAll(PDO::FETCH_ASSOC);}catch(PDOException $n){$o="problème pour accéder aux informations des entreprises<br/>";$o=$o.$n->getMessage();}$v="\n<input list='ID_ENTREPRISE' name='ID_ENTREPRISE'>\n";$v=$v."\n<datalist id='ID_ENTREPRISE'>\n";foreach($l as $q){$v=$v."<option value='".$q['ID_ENTREPRISE']."'>".$q['NOM_ENTREPRISE'];}$v=$v."</datalist>";return $v;}function lister_etudiant2($h,$w,$x){$k="select ID_ETU, PRENOM_ETU, NOM_ETU from ETUDIANT where CODE_CLASSE='$x'";$m=$h->query($k);$y=$m->fetchALL(PDO::FETCH_ASSOC);try{$m=$h->query($k);}catch(PDOException $n){$o="probleme pour acceder aux informations des employés<br/>";$o=$o.$n->getMessage();}$z="<select name='ID_ETUDIANT' id='ID_ETUDIANT' >\n";foreach($y as $q){$z=$z."<option value='".$q['ID_ETU']."'>".strtoupper($q['NOM_ETU'])." ".$q['PRENOM_ETU']."</option>\n";}$z=$z."</select>";return $z;}function lister_etudiant($h,$w){$k="select ID_ETU, PRENOM_ETU, NOM_ETU from ETUDIANT  where CODE_CLASSE like 'SIO%' order by NOM_ETU, PRENOM_ETU;";$l=array();try{$m=$h->query($k);$l=$m->fetchAll(PDO::FETCH_ASSOC);}catch(PDOException $n){$o="problème pour accéder aux informations des étudiants<br/>";$o=$o.$n->getMessage();}$z="\n<select name='ID_ETUDIANT' id='ID_ETUDIANT'>\n";foreach($l as $q){$r="";if($q['ID_ETU']==$w){$r=" selected='selected'";}$z=$z."<option value='".$q['ID_ETU']."' $r>".strtoupper($q['NOM_ETU'])." ".$q['PRENOM_ETU']."</option>\n";}$z=$z."</select>";return $z;}function rechercher_etudiant($h,$w){$k="select ID_ETU, PRENOM_ETU, NOM_ETU from ETUDIANT order by NOM_ETU, PRENOM_ETU;";$l=array();try{$m=$h->query($k);$l=$m->fetchAll(PDO::FETCH_ASSOC);}catch(PDOException $n){$o="problème pour accéder aux informations des étudiants<br/>";$o=$o.$n->getMessage();}$z="\n<input list='ID_ETUDIANT' name='ID_ETUDIANT'>\n";$z=$z."\n<datalist id='ID_ETUDIANT'>\n";foreach($l as $q){$z=$z."<option value='".$q['ID_ETU']."'>".$q['NOM_ETU']." ".$q['PRENOM_ETU']."</option>\n";}$z=$z."</datalist>";return $z;}function lister_origine($h,$aa){$k="SELECT ID_ORIGINE, BAC_ORIGINE FROM ORIGINE;";$l=array();try{$m=$h->query($k);$l=$m->fetchAll(PDO::FETCH_ASSOC);}catch(PDOException $n){$o="problème pour accéder aux informations sur les diplomes acquis.<br/>";$o=$o.$n->getMessage();}$bb="\n<input list='origine'><datalist id='origine'>\n";foreach($l as $q){$bb=$bb."<option value='".$q['BAC_ORIGINE']."'>";}$bb=$bb."</datalist>";return $bb;}function lister_superviseur($h,$cc){$k="select ID_PROF, PRENOM_PROF, NOM_PROF from PROFESSEUR order by NOM_PROF,PRENOM_PROF ;";$l=array();try{$m=$h->query($k);$l=$m->fetchAll(PDO::FETCH_ASSOC);}catch(PDOException $n){$o="problème pour accéder aux informations des superviseurs<br/>";$o=$o.$n->getMessage();}$dd="\n<select name='ID_PROF_SUPERVISEUR'>\n";foreach($l as $q){$r="";if($q['ID_PROF']==$cc){$r=" selected='selected'";}$dd=$dd."<option value='".$q['ID_PROF']."' $r>".strtoupper($q['NOM_PROF'])." ".$q['PRENOM_PROF']."</option>\n";}$dd=$dd."</select>";return $dd;}function lister_visiteur($h,$cc){$k="select ID_PROF, PRENOM_PROF, NOM_PROF from PROFESSEUR order by NOM_PROF,PRENOM_PROF;";$l=array();try{$m=$h->query($k);$l=$m->fetchAll(PDO::FETCH_ASSOC);}catch(PDOException $n){$o="problème pour accéder aux informations des visiteurs<br/>";$o=$o.$n->getMessage();}$ee="\n<select name='ID_PROF_VISITEUR'>\n";foreach($l as $q){$r="";if($q['ID_PROF']==$cc){$r=" selected='selected'";}$ee=$ee."<option value='".$q['ID_PROF']."' $r>".strtoupper($q['NOM_PROF'])." ".$q['PRENOM_PROF']."</option>\n";}$ee=$ee."</select>";return $ee;}function lister_promotion($h,$ff){$k="select ID_PROMOTION, ANNEE from PROMOTION;";$l=array();try{$m=$h->query($k);$l=$m->fetchAll(PDO::FETCH_ASSOC);}catch(PDOException $n){$o="problème pour accéder aux informations sur les promotions.<br/>";$o=$o.$n->getMessage();}$gg="\n<select name='ID_PROMOTION'>\n";foreach($l as $q){$r="";if($q['ID_PROMOTION']==$ff){$r=" selected='selected'";}$gg=$gg."<option value='".$q['ID_PROMOTION']."' $r>".$q['ANNEE']."</option>\n";}$gg=$gg."</select>";return $gg;}function lister_regime($h,$hh){$k="select REGIME from REGIME;";$l=array();try{$m=$h->query($k);$l=$m->fetchAll(PDO::FETCH_ASSOC);}catch(PDOException $n){$o="problème pour accéder aux informations sur les régimes.<br/>";$o=$o.$n->getMessage();}$ii="\n<select name='REGIME'>\n";foreach($l as $q){$r="";if($q['REGIME']==$hh){$r=" selected='selected'";}$ii=$ii."<option value='".$q['REGIME']."' $r>".$q['REGIME']."</option>\n";}$ii=$ii."</select>";return $ii;}function lister_specialite($h,$jj){$k="SELECT CODE_SPECIALITE FROM SPECIALITE;";$l=array();try{$m=$h->query($k);$l=$m->fetchAll(PDO::FETCH_ASSOC);}catch(PDOException $n){$o="problème pour accéder aux informations sur les diplomes acquis.<br/>";$o=$o.$n->getMessage();}$kk="\n<select name='CODE_SPECIALITE'>\n";foreach($l as $q){$r="";if($q['CODE_SPECIALITE']==$jj){$r=" selected='selected'";}$kk=$kk."<option value='".$q['CODE_SPECIALITE']."' $r>".$q['CODE_SPECIALITE']."</option>\n";}$kk=$kk."</select>";return $kk;}function lister_tuteur($h,$ll){$k="select ID_TUTEUR, PRENOM_TUTEUR, NOM_TUTEUR from TUTEUR order by NOM_TUTEUR, PRENOM_TUTEUR;";$l=array();try{$m=$h->query($k);$l=$m->fetchAll(PDO::FETCH_ASSOC);}catch(PDOException $n){$o="problème pour accéder aux informations des étudiants<br/>";$o=$o.$n->getMessage();}$mm="\n<select name='ID_TUTEUR'>\n";foreach($l as $q){$r="";if($q['ID_TUTEUR']==$ll){$r=" selected='selected'";}$mm=$mm."<option value='".$q['ID_TUTEUR']."' $r>".strtoupper($q['NOM_TUTEUR'])." ".$q['PRENOM_TUTEUR']."</option>\n";}$mm=$mm."</select>";return $mm;}function donner_radio_bouton_classe($h,$j){$k="select CODE_CLASSE from CLASSE where CODE_CLASSE!='DIPLOME'";$l=array();try{$m=$h->query($k);$l=$m->fetchAll(PDO::FETCH_ASSOC);}catch(PDOException $n){$o="problème pour accéder aux informations des classes<br/>";$o=$o.$n->getMessage();}$nn="";$g=0;foreach($l as $q){$r="";if($j=="SIO1"&&$g==0){$r="checked";}if($j=="SIO2"&&$g==1){$r="checked";}$g++;$nn=$nn."<input type='radio' name='CODE_CLASSE' id='".strtolower($q['CODE_CLASSE'])."' value='".$q['CODE_CLASSE']."' $r/><label class='.classe' for=".$q['CODE_CLASSE']." ";$nn=$nn."> ".strtolower($q['CODE_CLASSE'])."</label>\n";}return $nn;}?>